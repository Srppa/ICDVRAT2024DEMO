<!doctype html>
<html>
<head>
    <title>ICDVRAT2024</title>
    <meta name="description" content="Web for ICDVRAT conference">
    <meta name="keywords" content="ICDVRAT VR Virtual Reality Conference">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,900;1,400&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
        integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
        crossorigin="anonymous"></script>
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css" integrity="sha512-wR4oNhLBHf7smjy0K4oqzdWumd+r5/+6QO/vDda76MW5iug4PT7v86FoEkySIJft3XA0Ae6axhIvHrqwm793Nw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css" integrity="sha512-6lLUdeQ5uheMFbWm3CP271l14RsX1xtx+J5x2yeIDkkiBpeVTNhTqijME7GgRKKi6hCqovwCoBTlRBEC20M8Mg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js" integrity="sha512-XtmMtDEcNz2j7ekrtHvOVR4iwwaD6o/FUJe6+Zq+HgcCsk3kj4uSQQR8weQ2QVj1o0Pk6PwYLohm206ZzNfubg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <header class="speaker-page-header" style="background-image: url(/images/background.jpg)">
        <img class="logo-wide-top" src="/images/logo_wide.png"/>
        <div class="speaker-page-header-innner">
            <a class="speaker-page-header-back" href="/Index.html#programLink"> 
                <img src="/images/arrow_white.png" class="speaker-page-header-back-img">
                <span>Back</span>
            </a>
            <div class="speaker-page-header-title">
                <img class="logo-wide" src="/images/logo_wide.png"/>
                <h1>15th International Conference on Disability, Virtual Reality & Associated Technologies</h1>
            </div>
        </div>
    </header>
    <main class="program-page-main">
        <h2>Program</h2>
        <div class="select-day">
            <a class="selected">First day</a>
            <a>Second day</a>
            <a>Third day</a>
        </div>
        <div id="program-days">
            <div id="apendee" class="program-day">
            </div>
        </div>
    </main>
    <footer style="background-image: url(../images/background.jpg)">
        <p>© Copyright 2024 ICDVRAT 2024. All Rights Reserved.</p>
        <p>Web made by Pavel Srp</p>
    </footer>


    <template id="simpleProgramItemTemplate">
        <div class="program-item">
            <div class="time">
            </div>
            <div class="content">
                <div class="content-header">
                    <h4></h4>
                </div>
            </div>
        </div>
    </template>


    <template id="complexProgramItemTemplate">
        <div class="program-item">
            <div class="time">
            </div>
            <div class="content">
                <div class="content-header">
                    <h4></h4>
                    <h5></h5>
                </div>
                <div class="content-items">
                    
                </div>
            </div>
        </div>
    </template>

    <template id="contentItemTemplate">
        <div class="content-item">
            <div class="content-item-header">
                <img src="images/star_black.png">
                <p><span class="content-item-authors"></span><span class="inbetween"> – </span><span class="content-item-title"></span></p>
            </div>
            <p class="content-item-abstract"></p>
        </div>
    </template>
    
    <script>
        $(document).ready(function(){
            
            const simpleProgramItemTemplate = document.getElementById('simpleProgramItemTemplate');

            const complexProgramItemTemplate = document.getElementById('complexProgramItemTemplate');

            const contentItemTemplate = document.getElementById('contentItemTemplate');
            

    // Insert the cloned content into the container
            const apendeeElement = document.getElementById('apendee');
            
            $.getJSON("/documents/program_list.json", function(json) {

                for(let i = 0; i < json.parts.length; i++){

                    let tempPart = json.parts[i];
                    if(tempPart.type == "simple"){
                        
                        const clone = simpleProgramItemTemplate.content.cloneNode(true);

                        clone.querySelector('.time').innerText = tempPart.time;
                        clone.querySelector('.content-header h4').innerText = tempPart.content.heading;
                        clone.querySelector('.content-header').classList.add(tempPart.content.color);

                        apendeeElement.appendChild(clone);
                    }
                    else{

                        const clone = complexProgramItemTemplate.content.cloneNode(true);

                        clone.querySelector('.time').innerText = tempPart.time;
                        clone.querySelector('.content-header h4').innerText = tempPart.content.heading;
                        clone.querySelector('.content-header h5').innerText = tempPart.content.subtext;
                        clone.querySelector('.content-header').classList.add(tempPart.content.color);


                        for(let j = 0; j < tempPart.content.talks.length; j++){

                            tempTalk = tempPart.content.talks[j]

                            const talkClone = contentItemTemplate.content.cloneNode(true);

                            talkClone.querySelector('.content-item-authors').innerText = tempTalk.authors;
                            if(tempTalk.authors == ""){
                                
                                talkClone.querySelector('.inbetween').remove()
                            }

                            talkClone.querySelector('.content-item-title').innerText = tempTalk.title;
                            talkClone.querySelector('.content-item-abstract').innerText = tempTalk.abstract;

                            if(tempTalk.icon == "blue-head"){
                                talkClone.querySelector('.content-item-header img').src = "/images/debate_blue.png"
                            } else if ( tempTalk.icon == "black-head" ){
                                talkClone.querySelector('.content-item-header img').src = "/images/debate_black.png"
                            } else if ( tempTalk.icon == "blue-poster" ){
                                talkClone.querySelector('.content-item-header img').src = "/images/poster_blue.png"
                            } else if ( tempTalk.icon == "black-poster" ){
                                talkClone.querySelector('.content-item-header img').src = "/images/poster_black.png"
                            }
                            

                            clone.querySelector('.content-items').appendChild(talkClone);

                        }


                        apendeeElement.appendChild(clone);

                        

                    }

                
                }

                 // this will show the info it in firebug console
                 $( ".content-item-header" ).on( "click", function() {
                    console.log("hoj");
                    $(this).next().slideToggle()
                });
                
            });

            
            

        });
        
    </script>
</body>
</html>